<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1/4桥</title>
    <style>
        canvas {
            touch-action: none;
            border: 1px solid black;
        }

        p {
            width: 330px;
            text-indent: 2em;
            /* 2em 表示两个字符的宽度 */
        }
    </style>
</head>

<body>
    <canvas id="myCanvas">canvas not supported</canvas>
    <p id="pid">α-β-γ-δ-ε-ζ-η-θ-ι-κ-λ-μ-ν-ξ-ο-π-ρ-σ-τ-υ-φ-χ-ψ-ω</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>
    <p>1/4桥</p>

    <script>
        let canvas = document.getElementById("myCanvas");
        let ctx = canvas.getContext("2d");
        let p = document.getElementById("pid");

        // 在手机上宽度330，在PC上宽度500
        // canvas.width = isMobile() ? 330 : 500;
        // canvas.height = canvas.width * 3 / 5;
        setsize();
        let w = canvas.width;
        let h = canvas.height;

        // 绘制工作通道
        let workch = new Image();
        workch.src = "./images/gongzuotongdao.jpg";
        workch.onload = function () { ctx.drawImage(workch, 20, 20, 200, 200 / 946 * 591); };







        // p.textContent = '竖屏';
        setsize();



        // 判断当前设备是否为移动设备
        function isMobile() {
            const userAgent = navigator.userAgent.toLowerCase();
            return /iphone|ipod|android|blackberry|windows phone|mobile/i.test(userAgent);
        }

        // 根据设备类型设置画布大小
        function setsize() {
            if (isMobile() && !isLandscape()) {
                // 如果是移动设备且为竖屏
                p.textContent = '竖屏';
                canvas.width = 330;
            }
            else if(!isMobile() || isLandscape()) {
                // 如果是移动设备且为横屏，或者是PC
                p.textContent = '横屏';
                canvas.width = 500;
            }
            canvas.height = canvas.width * 3 / 5;
        }

        // 判断当前设备是否为横屏
        function isLandscape() {
            return window.orientation === 90 || window.orientation === -90;
        }

        window.addEventListener("orientationchange", setsize);
    </script>
</body>

</html>
