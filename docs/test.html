<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>my own title - animate</title>
    <script>
        function animate() {
            ctx1.clearRect(0, 0, canvas1.width, canvas1.height);
            ctx1.fillStyle = "red";
            ctx1.fillRect(x1, 10, 50, 50);
            x1 = (x1 + 1) % canvas1.width;
            //requestAnimationFrame(animate);   //第一种方式，生成动画
        }
        function move() {
            var btn = document.getElementById("btnid");
            if (animateflag == 0) {
                intervalid = setInterval(animate, 1000 / 60);
                animateflag = 1;
                btn.innerText = "点我可以停止动画";
            }
            else if (animateflag == 1) {
                clearInterval(intervalid);
                animateflag = 0;
                btn.innerText = "点我可以开始动画";
            }
        }
    </script>
</head>

<body>
    <canvas id="canvasid1" width="100" height="70">不支持canvas</canvas>
    <script>
        var canvas1 = document.getElementById("canvasid1");
        var ctx1 = canvas1.getContext("2d");
        var x1 = 0;
        var animateflag = 0, intervalid;
        //animate();    //第一种方式，生成动画
        //setInterval(animate, 1000/60); //第二种方式生成动画

    </script>

    <br><br>

    <button id="btnid" onclick="move()">点我可以开始动画</button>
</body>

</html>
